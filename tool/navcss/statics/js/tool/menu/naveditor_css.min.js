function menu(l){var m=null,n={},o={},p=null,q=[],r="",s="",t=function(){m=$("#naveditor"),A(),u(),V(),R(),w(),z(),y(),X(),Y(),$("[data-toggle=tooltip]").tooltip({container:".nav-tooltip"}),bb(),B(),C(),bf(),bg(),bc()},u=function(){var a=REE.NavCss.Toolbar.get_config();$.each(a,function(a,b){$.each(b.fields,function(a,b){$.each(b.sub_fields,function(a,b){q[a]=b.data})})}),REE.NavCss.Toolbar.init()},w=function(){$("._ipt",$("#toolbar")).change(function(){var a,b,c,d;D($(this)),E(),$(this).attr("id")&&(a=$(this).attr("id"),b=$(this).val(),"sub-nav-line-height"==a?C(b):"height"==a&&B()),c=$(this).next(),d=c.attr("type"),c.length>0&&"number"==d&&c.val($(this).val()).change()})},x=function(a,b){var c,d,e;switch(a){case"_dz_height":""==b&&(c=$(".skin-box-bd",m).height(),b=150-c),$("#custom-banner").css("height",P(b,"height"));break;case"_show_dz_mock":d=$(".title","#custom-banner"),"y"==b?d.show():d.hide();break;case"_hd_bg_color":e={},b=P(b,"background-color"),e["background-image"]="none",e["background-color"]=b,$("#hd").css(e);break;case"_hd_bg":e={},b=P(b,"background-image"),""==b&&n._hd_bg_color&&""!=n._hd_bg_color&&(b="none"),e={"background-image":b},$("#hd").css(e);break;case"hd_margin_bottom":$("#hd").css("margin-bottom",b);break;case"hd_background_repeat":e={},b=P(b,"background-repeat"),""!=b||n.hd_background_repeat||(b="repeat"),e={"background-repeat":b},$("#hd").css(e);break;case"hd_background_position":e={},b=P(b,"background-position"),""==b&&n.hd_background_position&&""!=n.hd_background_position&&(b="center top"),e={"background-position":b},$("#hd").css(e);break;case"_content_bg_color":e={},b=P(b,"background-color"),e["background-image"]="none",e["background-color"]=b,$("#csseditor").css(e);break;case"_content_bg":e={"background-image":P(b,"background-image")},$("#csseditor").css(e);break;case"bd_background_repeat":e={},b=P(b,"background-repeat"),""==b&&n.bd_background_repeat&&""!=n.bd_background_repeat&&(b="repeat"),e={"background-repeat":b},$("#csseditor").css(e);break;case"bd_background_position":e={},b=P(b,"background-position"),""==b&&n.bd_background_position&&""!=n.bd_background_position&&(b="center top"),e={"background-position":b},$("#csseditor").css(e)}},y=function(){var a=$(".skin-box-bd",m).height();$("#popup-content").css("margin-top",a),$("#dz_height").val()||$(".custom-banner",m).css("height",150-a),$("#snd-pop").css("left",$(".popup-inner",m).width())},z=function(){$("._ipt",$("#toolbar")).each(function(){D($(this))}),E()},A=function(){var a=$("head");a.append('<style type="text/css"></style>'),p=$("style",a)},B=function(){var a=$("#height").val(),b=a?parseInt(a):0;0>b||(0==b&&(b=$(".skin-box-bd",m).height()),$("#popup-content").css("margin-top",b+"px"),$("#dz_height").val()||$(".custom-banner",m).css("height",150-b+"px"))},C=function(a){a||(a=$("#sub-nav-line-height").val()),""==a&&(a=28),$("#snd-pop").css("top",a+"px")},D=function(a,b){var c=a.attr("data-id");void 0==b&&(b=a.val()),b.match(/@color/)&&(b=REE.Com.replaceColor(b,l)),b.match(/\#/)&&(b=b.replace(/\#/,"")),n[c]=b},E=function(){var a="#page #content .tshop-pbsm-shop-nav-ch ",b=H(a);r=b.replace(/\n/g,""),r=r.replace(/body\s*\{[^\}]*\}/,""),p.html()!=b&&p.html(b)},F=function(a,b){var c="",d="";switch(a){case"_fixed_bg":b=P(b,"background-image"),""!=b&&(d+="background-image:"+b+";","none"!=b&&(c=2e3),$("body").css({height:c,backgroundImage:b}));break;case"_fixed_background_repeat":d+="background-repeat:"+b+";",$("body").css({backgroundRepeat:b});break;case"_fixed_background_position":d+="background-position:"+b+";",$("body").css({backgroundPosition:b});break;case"_fixed_background_attachment":d+="background-attachment:"+b+";",$("body").css({backgroundAttachment:b})}return d},G=function(a){a=a||"";var b="",c="";return $.each(n,function(d,e){var f,g,h;if(e=$.trim(e),q[d]&&void 0!=q[d].special&&0<q[d].special)if(""!=e&&1==q[d].special){for(f=q[d].name,g=f.split(","),h="",i=0;i<g.length;i++)h+=", "+a+$.trim(g[i]);""!=h&&(b+=h.substr(2),b+="{"+Q(q[d].ele,P(e,q[d].ele))+"}")}else""!=e&&2==q[d].special?(s=e,b+=""):3==q[d].special?(x(d,e),b+=""):4==q[d].special&&(F(d,e),b+="",c+=F(d,e))}),$(".copy-body-code-btn").off().click(function(){var d,a=c,b="_body_code_dialog";a="body{"+a+"}",d='<textarea id="'+b+'_copy" style="width:100%;height:160px;">'+a+"</textarea>",REE.Com.copyModal(b,"将下面代码粘贴到导航模块显示设置内",d)}),b},H=function(a){s="";var b=I(a);return b+=G(a),b+=L(a),b+=J(a)},I=function(a){var b=REE.NavCss.Toolbar.extend_code();return K($.trim(b),a)},J=function(a){return K($.trim(s),a)},K=function(a,b){return""==a?"":(b=b||"",a=a.replace(/#page(\s+)#content(\s+)\.tshop-pbsm-shop-nav-ch(\s+)/g,""),""!=b&&(a=a.replace(/((\.([a-zA-Z0-9\-_]+)(\s*))+)([,\{])/g,b+"$1$5")),a)},L=function(a){var b,c,d;return a=a||"",b="",c="",o={},O(REE.NavCss.Toolbar.none_sdk_id_css,1),M(),$.each(o,function(e,f){c="",$.each(f,function(a,b){d=!0,("background-repeat"==a||"background-position"==a)&&(void 0==f["background-image"]||""==f["background-image"])&&(d=!1),b.val=P(b.val,a),d&&""!=b.val&&b.show&&(void 0!=b.ele_extra&&""!=b.ele_extra&&(c+=b.ele_extra),c+=Q(a,b.val))}),""!=a&&(b+="\n"),""!=c&&(b+=a+e+" {"+c+"}")}),b},M=function(){var a,b,c;$.each(n,function(b,c){a=q[b],a&&void 0!=a.extra&&""!=a.extra&&O(a.extra,c,b)}),c=Array(),$.each(n,function(b,d){a=q[b],a&&void 0!=a.del_id&&""!=d&&c.push(a.del_id)}),$.each(n,function(a,d){b=1,$.inArray(a,c)>-1&&(b=0),N(q[a],d,a,b)})},N=function(a,b,c,d){var e,f,g,h,k,l,m,p;if(void 0!=a&&!(void 0!=a.special&&0<a.special)){for(e=a.name.split(","),f=a.ele.split(","),m=a.ele_extra?$.trim(a.ele_extra):"",g=e.length,h=f.length,p=0,i=0;g>i;i++)k=$.trim(e[i]),""!=k&&(l=f[i]?f[i]:f[h-1],void 0==o[k]&&(o[k]={}),a.ele_extra_property&&$.each(a.ele_extra_property,function(a,b){var e=b.ele,f=n[c+"_"+a];o[k][e]={val:f,show:d}}),o[k][$.trim(l)]={val:b,show:d,ele_extra:m},p=i);if(void 0!=f[p+1])for(k=e[p],j=p+1;h>j;j++)void 0==o[k]&&(o[k]={}),o[k][$.trim(f[j])]={val:b,show:d,ele_extra:m}}},O=function(c,d,e){var g,val,ids_len,val_len,_id,_val,_tmp_val,f=void 0==d||""==d?0:1;$.each(c,function(a,b){for(g=b.name.split(","),val=b.val.split(";"),ids_len=g.length,val_len=val.length,i=0;ids_len>i;i++)if(_id=$.trim(g[i]),("cate_position"!=e||"left"!=n[e])&&""!=_id)for(void 0==o[_id]&&(o[_id]={}),j=0;val_len>j;j++)_val=$.trim(val[j]),""!=_val&&(_val=_val.split(":"),(void 0==o[_id][$.trim(_val[0])]||1!=o[_id][$.trim(_val[0])]["show"])&&(_val[1]=$.trim(_val[1]),_tmp_val=_val[1].match(/@(.*)@/),_tmp_val?(_tmp_val=_tmp_val[1],_tmp_val=_tmp_val.replace(/this\.val/g,d),_tmp_val=eval(_tmp_val),_tmp_val=_val[1].replace(/@.*@/,_tmp_val)):_tmp_val=_val[1],o[_id][$.trim(_val[0])]={val:_tmp_val,show:f}))})},P=function(a,b){var c,d,e;if("__nil__"==a)return"";if("background"==b||"background-image"==b)""==a?a="":"none"!=a&&(a.match(/^assets\/tb_images\//)&&(a=$("#ipt_tpl_web_path").val()+a),a="url("+a+")");else if(""!=a){c=["width","height","font-size","margin","padding"];for(d in c)b.match(c[d])&&"auto"!=a&&(a+="px");b.match("color")?a="transparent"==a||a.match(/@color/)?a:"#"+a:"font-family"==b&&(e={ms_yahei_simhei:"微软雅黑,黑体",ms_yahei:"微软雅黑",simhei:"黑体",simsun:"宋体",lisu:"隶书",kaiti_gb2312:"楷体"},void 0!=e[a]&&(a=e[a]))}return a},Q=function(a,b){var c=a+":"+b+"; ";return"font-style"==a&&("normal"==b?c="font-weight:normal; font-style:normal":"bold"==b?c="font-weight:bold; font-style:normal":"bold_italic"==b&&(c="font-weight:bold; font-style:italic")),c},R=function(){$("#naveditor").on("mouseenter",".menu-list .menu",function(){$(this).addClass("menu-hover")}).on("mouseleave",".menu-list .menu",function(){$(this).removeClass("menu-hover")}).on("mouseenter",".fst-cat",function(){$(this).addClass("cat-hd-hover")}).on("mouseleave",".fst-cat",function(){$(this).removeClass("cat-hd-hover")}).on("mouseenter",".all-cats",function(){$(this).addClass("all-cats-hover")}).on("mouseleave",".all-cats",function(){$(this).removeClass("all-cats-hover")}).on("mouseenter",".snd-cat-hd",function(){$(this).addClass("snd-cat-hd-hover")}).on("mouseleave",".snd-cat-hd",function(){$(this).removeClass("snd-cat-hd-hover")}).on("mouseenter",".sub-cat",function(){$(this).addClass("sub-cat-hover")}).on("mouseleave",".sub-cat",function(){$(this).removeClass("sub-cat-hover")})},S=function(){var a='<div class="mask-relative"></div>';$("#naveditor").on("mouseenter",".custom-banner",function(){var a=$(".custom-banner");U(a,"zx-dz"),$(".nav-edit",a).off().click(function(){be("#zx_setting")})}).on("mouseenter",".fst-cat",function(){var a=$(".popup-content");U(a),$(".nav-edit",a).off().click(function(){be("#zx_sub_nav")})}).on("mouseenter",".menu-popup-cats",function(){U($(".popup-content"));var a=$(".popup-content");U(a),$(".nav-edit",a).off().click(function(){be("#zx_sub_nav")})}).on("mouseenter",".snd-pop-inner",function(a){a.stopPropagation();var b=$(".snd-pop-inner");U(b),$(".nav-edit",b).off().click(function(a){a.stopPropagation(),be("#zx_sec_nav")})}).on("mouseenter",".menu-list .menu-selected",function(){U($(this)),$(".nav-edit",$(this)).off().click(function(a){a.stopPropagation(),be("#zx_current")})}).on("mouseenter",".all-cats-trigger",function(){U($(this)),$(".nav-edit",$(this)).off().click(function(){be("#zx_all_cate")})}).on("mouseenter",".menu-nav",function(){var c,d,e,f,g,h,b=$(".menu-list");b.prepend(a),c=$(".mask-relative"),d=$(".nav-width"),e=0,f=$(".menu-selected"),g=parseInt(f.width())+T(f),U(c,"nav-mask"),$.each(d,function(a,b){e+=parseInt($(b).width())+T($(b))}),h=b.width()-g-e+10,$(".nav-edit").css("right",h+"px"),$(".zx-nav-mask").css({height:b.height(),width:e,left:g}),$(".menu-list .nav-mask,.nav-edit").off().dblclick(function(){be("#zx_nav")}),$(".nav-edit",c).off().click(function(){be("#zx_nav")})}).on("mouseleave",".all-cats-trigger,.menu-selected,.mask-relative,.mask-abs",function(){var a=$(".mask-relative");$(".mask-abs").remove(),a.length>0&&a.remove()})},T=function(a){var b=parseInt(a.css("margin-left")),c=parseInt(a.css("margin-right")),d=parseInt(a.css("padding-left")),e=parseInt(a.css("padding-right"));return b+c+d+e},U=function(a,b){b=b||"";var c="";c+='<div class="mask-abs">',c+='<div class="zx-nav-mask '+b+'"></div>',c+='<button class="btn btn-mini edit nav-edit"><i class="icon-cog icon-white"></i>编辑</button>',c+="</div>",a.prepend(c)},V=function(){$(".ptdata_color",$("#toolbar")).ColorPicker({onSubmit:function(a,b,c,d){$(d).val(b),$(d).ColorPickerHide(),D($(d),b),E()},onBeforeShow:function(){$(this).ColorPickerSetColor(this.value)},onShow:function(a){return $(a).fadeIn(500),!1},onHide:function(a){return $(a).fadeOut(500),!1}}).bind("keyup",function(){$(this).ColorPickerSetColor(this.value)})},W=function(a){l.canReplaceThemeColorVar=a,$("._ipt",$("#toolbar")).each(function(){D($(this))})},X=function(){$(".copy-css-code-btn").off().click(function(){var d,a="css"==$(this).attr("data-type")?"@name ":"",b=H(a),c="_css_code_dialog";""!=b&&(b=b.replace(/[\r\n]/g,"")),REE.Com.saveData(n),d='<textarea id="'+c+'_copy" style="width:100%;height:160px;">'+b+"</textarea>",REE.Com.copyModal(c,"将下面代码粘贴到导航模块显示设置内",d)})},Y=function(){$(".copy-json-code-btn").off().click(function(){var d,e,a=n,b="_json_code_dialog",c=[];for(d in a)c.push($.trim('"'+d+'":"'+a[d]+'"').replace(/[\r\n]/g,""));e='<textarea id="'+b+'_copy" style="width:100%;height:160px;">{'+c+"}</textarea>",REE.Com.copyModal(b,"",e)})},Z=function(a){var d,e,f,b=["hd","bd"],c={};for(f in b)"hd"==b[f]?(d=a._hd_bg_color,e=a._hd_bg,c.hd_margin_bottom=a.hd_margin_bottom):(d=a._content_bg_color,e=a._content_bg),c[b[f]+"_background_color"]=d,c[b[f]+"_background_image"]=e,c[b[f]+"_background_repeat"]=a[b[f]+"_background_repeat"],c[b[f]+"_background_position"]=a[b[f]+"_background_position"];return c},ba=function(){$(".popup-content").dblclick(function(){be("#zx_sub_nav")}),$(".menu-list .nav-mask,.nav-edit").dblclick(function(){be("#zx_nav")}),$(".snd-pop-inner").dblclick(function(a){a.stopPropagation(),be("#zx_sec_nav")}),$(".menu-list .menu-selected").dblclick(function(){be("#zx_current")}),$(".all-cats .all-cats-trigger").dblclick(function(){be("#zx_all_cate")}),$("#custom-banner").dblclick(function(){be("#zx_setting")})},bb=function(){var a=parseInt($("#btn-preview").attr("data-preview"));0!=$("#ipt-preview-page").length||a?R():(S(),ba())},bc=function(){$("#btn-preview").off().click(function(){var a=$("#btn-preview"),b=parseInt(a.attr("data-preview")),c=$(".toggle-mode");b?(a.attr("data-preview",0),a.text("切换到预览"),bd(c,"编辑模式","编辑模式将进入导航编辑状态"),$(this).removeClass("menu_active"),$("#cat-hd-hover").addClass("cat-hd-hover"),$("#snd-cat-hd-hover").addClass("snd-cat-hd-hover"),$("#sub-cat-hover").addClass("sub-cat-hover")):(a.attr("data-preview",1),a.text("切换到编辑"),$(this).addClass("menu_active"),bd(c,"预览模式","测试鼠标经过导航栏目显示效果")),$("#naveditor").off(),bb()})},bd=function(a,b,c){$("#to-mode",a).text(b),layer.msg(c),a.fadeIn(),a.click(function(){a.hide()}),setTimeout(function(){a.fadeOut()},3e3)},be=function(a){var b=$(a);b.modal({show:!0}),b.draggable({scroll:!1,handle:".modal-header"})},bf=function(){var a=$(".toggle-theme-extra");a.click(function(){$(".themes_extra").toggle("fast")})},bg=function(){var a=$("#close-tools"),b=$("#open-tools");a.click(function(){$("#ft").hide("slow"),b.show("slow"),$(".popup-inner").hide(),$(".popup-content").hide()}),b.click(function(){$("#ft").show("slow"),$(this).hide("slow"),$(".popup-inner").show(),$(".popup-content").show()})};return{init:t,Flesh_style_data:D,Output_style_data:E}}var isLoadHistory,pluginsModule;"undefined"==typeof REE&&(REE={}),REE.Com={_ClipCopy:!0,bindToolTip:function(){$("[data-toggle=tooltip]").tooltip()},backwardIE:function(){return REE.Com.IEtest()?(location.href="/oldie",!1):!0},saveData:function(a){var b=a?a:new Object;localStorage.setItem("lastData@"+module,JSON.stringify(b)),$.ajax({url:app+"?m=tool&c=index&a=getCode&module="+module,cache:!1,async:!0,type:"post",dataType:"json",data:{data:b,preview:!1},success:function(a){1==a.status&&console.log(a.msg)},error:function(){},complete:function(a,b){"timeout"==b&&alert("请求超时")}})},IEtest:function(){return!$.support.leadingWhitespace},biuldModal:function(a,b,c,d){d=d||'<button class="btn btn-primary submit-btn" data-dismiss="modal" aria-hidden="true">确定</button>';var e='<div class="modal hide fade" id="'+a+'">';return e+='<div class="modal-contentbox"><div class="modal-header"><a href="javascript:void(0)" class="close" data-dismiss="modal" aria-hidden="true">&times;</a><h4 id="'+a+'_title">'+c+"</h4></div>",e+='<div class="modal-body">'+b+"</div>","HIDE"!=d&&(e+='<div class="modal-footer"><button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>'+d+"</div>"),e+="</div></div>"},copyModal:function(a,b,c){var e,f,d=$("#"+a);$(".modal-footer .pointout",d).html(""),0==d.length?(e='<span class="help-tips" style="color:#666; float: left; font-size: 12px;"></span>&nbsp;&nbsp;<button class="btn btn-danger copy-btn" data-clipboard-target="'+a+'_copy">点此复制</button><span class="pointout" style="color:#f00"></span>',f=REE.Com.biuldModal(a,'<div style="text-align: center;" class="_content">'+c+"</div>",b,e),$("body").append(f),d=$("#"+a),REE.Com.ClipboardCopy(d),setTimeout(function(){REE.Com._ClipCopy||($(".help-tips",d).html("Ctrl+A 全选、Ctrl+C 复制、Ctrl+V 粘贴"),$(".copy-btn",d).hide())},300)):$(".modal-body ._content",d).html(c),d.modal()},ClipboardCopy:function(a){if(REE.Com._ClipCopy){var b=new ZeroClipboard($(".copy-btn",a),{moviePath:app+"js/menu/ZeroClipboard.swf"});b.on("ready",function(){this.on("aftercopy",function(){var b=$(".pointout");$("#_css_code_dialog_copy").css("background","#00ffe9"),b.hide(),b.html("已复制至剪贴板,Ctrl+V键粘贴到相应地方"),b.show("fast")})}),b.on("error",function(){REE.Com._ClipCopy=!1,ZeroClipboard.destroy()})}},bind_hd_css:function(a){var d,e,f,b=["hd","bd"],c={};for(d=0;d<b.length;d++)"hd"==b[d]?(e=a._hd_bg_color,f=a._hd_bg):(e=a._content_bg_color,f=a._content_bg),c[b[d]]={"background-color":e,"background-image":f,"background-repeat":a[b[d]+"_background_repeat"],"background-position":a[b[d]+"_background_position"]},"hd"==b[d]&&(c[b[d]]["margin-bottom"]=a[b[d]+"_margin_bottom"]);return c}},REE.NavCss={},REE.NavCss.Toolbar=function(){var a=null,b={},c={designer_theme_color:null},d=function(){return{zx_nav:{title:"导航菜单",span:3,fields:[{sub_title:"常用设置",sub_fields:{nav_color:{label:"[默认]字体颜色",type:"color",data:{name:".menu-list .link .title",ele:"color"}},nav_color_hover:{label:"[经过]字体颜色",type:"color",data:{name:".menu-list .menu-hover .link .title",ele:"color"}},nav_bg_color:{label:"[默认]背景颜色",type:"color",data:{name:".menu-list .menu, .menu-list .menu .link",ele:"background-color",extra:[{name:".menu-list .menu, .menu-list .menu .link",val:"background:none;"}]}},nav_bg_color_hover:{label:"[经过]背景颜色",type:"color",data:{name:".menu-list .menu-hover, .menu-list .menu-hover .link",ele:"background-color",extra:[{name:".menu-list .menu-hover,.menu-list .menu-hover .link",val:"background:none;"}]}},nav_all_bg_color:{label:"[整体]背景颜色",type:"color",data:{name:".skin-box-bd",ele:"background-color",extra:[{name:".skin-box-bd",val:"background-image:none"},{name:".menu-list .link, .skin-box-bd .menu-list, .menu-list .menu-selected .link .title,.all-cats .all-cats-trigger, .all-cats .link,.menu-list .menu-selected, .menu-list .menu-selected .link, .menu-list .menu-selected .link .title,.menu-list .menu-selected.menu-hover .link",val:"background:none"}]}},nav_height:{label:"导航栏高度",type:"number",id:"height",unit:"px",cls:"input-mini",data:{name:".all-cats,.skin-box-bd .menu-list,.skin-box-bd .all-cats .title,.skin-box-bd .all-cats .title,.menu-list .link .title, .menu-list .link .title, .all-cats .link, .all-cats .link, .skin-box-bd,.menu-list .link,.menu-list .link,.all-cats-hover,.all-cats-hover, .menu-list .menu, .menu-list .menu-hover",ele:"height, height, height, line-height, height, line-height, height, line-height, height, height, line-height, height, line-height, height, height",extra:[{name:".menu-list .link .popup-icon",val:'margin-top:@(this.val-$(".menu-list .link .popup-icon").height())/2@'},{name:".all-cats .link .popup-icon",val:'margin-top:@(this.val-$(".all-cats .link .popup-icon").height())/2@'}]},tips:"注意!!导航高度与店招高度和不要超过150"},nav_icon:{label:"下拉菜单小图标",type:"url",cls:"bs-input field-val span3",data:{name:".menu-list .link .popup-icon,.menu-list .menu-hover .link .popup-icon",ele:"background-image",extra:[{name:".menu-list .link .popup-icon",val:"background-position:left 0px; background-repeat:no-repeat;width:14; height:14;"},{name:".menu-list .menu-hover .link .popup-icon",val:"background-position:right 0px"}],ele_extra_property:l()},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，图标大小(2x14)x14px"}}},{sub_title:"字体设置",sub_fields:{nav_font_size:{label:"字体大小",type:"select",options:g(),val:"",unit:"px",data:{name:".menu-list .menu .title",ele:"font-size"}},nav_font_family:{label:"字体名称",type:"select",options:h(),val:"",data:{name:".menu-list .menu .title",ele:"font-family"}},nav_font_style:{label:"字体样式",type:"select",val:"",options:{"":"默认",normal:"正常",italic:"斜体",bold:"粗体",bold_italic:"粗体+斜体"},data:{name:".menu-list .menu .title",ele:"font-style"}}}},{sub_title:"背景图设置",sub_fields:{nav_bg_img:{label:"[默认]背景图片",type:"url",data:{name:".menu-list .menu,.menu-list .menu .link",ele:"background-image",extra:[{name:".menu-list .menu",val:"background-position:left 0px;background-repeat:repeat;"},{name:".menu-list .menu .link",val:"background-position:right 0px;background-repeat:repeat;"},{name:".menu-list .link",val:"padding:0 20px 0 9px; margin-left: 11px;"}]},cls:"bs-input field-val input-small",placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"},nav_bg_img_hover:{label:"[经过]背景图片",type:"url",cls:"bs-input field-val input-small",data:{name:".menu-list .menu-hover,.menu-list .menu-hover .link",ele:"background-image",extra:[{name:".menu-list .menu-hover",val:"background-position:left 0px;background-repeat:repeat;"},{name:".menu-list .menu-hover .link",val:"background-position:right 0px;background-repeat:repeat;"},{name:".menu-list .link",val:"padding:0 20px 0 9px; margin-left: 11px;"}]},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"},nav_all_bg_img:{label:"[整体]背景图片",type:"url",data:{name:".skin-box-bd",ele:"background-image",extra:[{name:".menu-list .menu",val:"background-position:left 0px;background-repeat:repeat;"},{name:".menu-list .menu .link",val:" background-position:right 0px;background-repeat:repeat;"},{name:".menu-list .link",val:"padding:0 20px 0 9px; margin-left: 11px;"}],ele_extra_property:k()},cls:"bs-input field-val input-small",placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"}}},{sub_title:"分隔线",sub_fields:{nav_line_width:{label:"分隔竖线大小",type:"number",cls:"input-mini",unit:"px",data:{name:".menu-list .link",ele:"border-right-width",extra:[{name:".skin-box-bd .menu-list .menu",val:"border-right-width:0;border-left-width:0;"}]},tips:"请输入0~5的数字; 需设置分隔竖线样式才生效"},nav_line_style:{label:"分隔竖线样式",type:"select",options:{"":"默认",solid:"实线",dotted:"虚线"},data:{name:".menu-list .link",ele:"border-right-style",extra:[{name:".menu-list .menu",val:"border-right-width:0"}]},tips:"请输入0~5的数字; 需设置分隔竖线大小才生效"},nav_line_color:{label:"分隔竖线颜色",type:"color",data:{name:".menu-list .link",ele:"border-right-color",extra:[{name:".menu-list .menu",val:"border-right-width:0"}]},tips:"需设置分隔竖线大小、样式才生效"}}},{sub_title:"内边距",sub_fields:{nav_padding_top:{label:"[上]内边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"padding-top"},cls:"input-mini",tips:"请输入正整数"},nav_padding_bottom:{label:"[下]内边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"padding-bottom"},cls:"input-mini",tips:"请输入正整数"},nav_padding_left:{label:"[左]内边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"padding-left"},cls:"input-mini",tips:"请输入正整数"},nav_padding_right:{label:"[右]内边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"padding-right"},cls:"input-mini",tips:"请输入正整数"}}},{sub_title:"外边距",sub_fields:{nav_margin_top:{label:"[上]外边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"margin-top"},cls:"input-mini",tips:"请输入正整数"},nav_margin_bottom:{label:"[下]外边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"margin-bottom"},cls:"input-mini",tips:"请输入正整数"},nav_margin_left:{label:"[左]外边距",type:"number",unit:"px",data:{name:".menu-list .link",ele:"margin-left"},cls:"input-mini",tips:"请输入正整数"},nav_margin_right:{label:"[右]外边距",type:"number",unit:"px",data:{name:".menu-list .menu .link",ele:"margin-right"},cls:"input-mini",tips:"请输入正整数"}}}]},zx_all_cate:{title:"所有分类",fields:[{sub_title:"常用设置",sub_fields:{cate_color:{label:"[默认]字体颜色",type:"color",data:{name:".all-cats .link .title",ele:"color"}},cate_color_hover:{label:"[经过]字体颜色",type:"color",data:{name:".all-cats-hover .link .title",ele:"color"}},cate_bg_color:{label:"[默认]背景颜色",type:"color",data:{name:".all-cats .all-cats-trigger, .all-cats .link",ele:"background-color",extra:[{name:".all-cats .link",val:"background-image:none;"},{name:".all-cats, .all-cats .all-cats-trigger, .all-cats .link",val:"background:none"}]}},cate_bg_color_hover:{label:"[经过]背景颜色",type:"color",data:{name:".all-cats-hover .all-cats-trigger, .all-cats-hover .link",ele:"background-color",extra:[{name:".all-cats-hover .all-cats-trigger, .all-cats-hover .link",val:"background-image:none;"}]}},cate_icon:{label:"下拉菜单小图标",type:"url",cls:"bs-input field-val span3",data:{name:".all-cats .link .popup-icon,.all-cats-hover .link .popup-icon",ele:"background-image",extra:[{name:".all-cats .link .popup-icon",val:"background-position:left 0px;background-repeat:no-repeat; width:14; height:14;"},{name:".all-cats-hover .link .popup-icon",val:"background-position:right 0px"}],ele_extra_property:l()},tips:"粘贴淘宝图片空间的图片链接地址，图标大小(2x14)x14px",placeholder:"http://"},cate_width:{label:"所有分类宽度",type:"select",data:{name:".all-cats .link",ele:"width"},tips:"控制所有分类按钮的宽度（固定宽度是188）",options:{168:"固定宽度",auto:"自适应"}},cate_position:{label:"所有分类位置",type:"select",data:{name:".all-cats",ele:"float",extra:[{name:".popup-content .cats-tree .snd-pop-inner",val:"position:relative;left:-378px;display:inline-table"}]},tips:"控制所有分类按钮左边显示或右边显示",options:{left:"左边",right:"右边"}},cate_display:{label:"是否显示所有分类",type:"select",data:{name:".all-cats",ele:"display"},tips:"选择是否显示所有分类",options:{inline:"显示",none:"隐藏"}}}},{sub_title:"字体设置",sub_fields:{cate_font_size:{label:"字体大小",type:"select",options:g(),val:"",unit:"px",data:{name:".all-cats .title",ele:"font-size"}},cate_font_family:{label:"字体名称",type:"select",options:h(),val:"",data:{name:".all-cats .title",ele:"font-family"}},cate_font_style:{label:"字体样式",type:"select",val:"",options:{"":"默认",normal:"正常",italic:"斜体",bold:"粗体",bold_italic:"粗体+斜体"},data:{name:".all-cats .title",ele:"font-style"}}}},{sub_title:"背景图设置",sub_fields:{cate_bg_img:{label:"[默认]背景图片",type:"url",data:{name:".all-cats .all-cats-trigger",ele:"background-image",extra:[{name:".all-cats .link",val:"background-image:none;"},{name:".all-cats, .all-cats .all-cats-trigger, .all-cats .link",val:"background:none"}],ele_extra_property:k(),del_id:"cate_bg_color"},cls:"bs-input field-val input-small",placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"},cate_bg_img_hover:{label:"[经过]背景图片",type:"url",data:{name:".all-cats-hover",ele:"background-image",extra:[{name:".all-cats-hover ,.all-cats-hover .all-cats-trigger, .all-cats-hover .link",val:"background:none;"}],ele_extra_property:k(),del_id:"cate_bg_color_hover"},cls:"bs-input field-val input-small",placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"}}}]},zx_current:{title:"当前页",span:12,fields:[{sub_title:"常用设置",sub_fields:{current_color:{label:"当前页-文字颜色",type:"color",data:{name:".menu-list .menu-selected .link .title, .menu-list .menu-selected.menu-hover .link .title",ele:"color"}},current_bg_color:{label:"当前页-背景颜色",type:"color",data:{name:".menu-list .menu-selected, .menu-list .menu-selected .link, .menu-list .menu-selected .link .title,.menu-list .menu-selected.menu-hover .link",ele:"background-color",extra:[{name:".menu-list .menu-selected,.menu-list .menu-selected .link",val:"background:none"}]}},current_bg_img:{label:"当前页-背景图片",type:"url",data:{name:".menu-list .menu-selected,.menu-list .menu-selected .link",ele:"background-image",extra:[{name:".menu-list .menu-selected",val:"background-position:left top;background-repeat:no-repeat;"},{name:".menu-list .menu-selected .link",val:"background-position:right top;background-repeat:no-repeat;"},{name:".menu-list .link",val:"padding:0 20px 0 9px; margin-left: 11px;"}]},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none",cls:"bs-input field-val input-small"}}}]},zx_sub_nav:{title:"一级下拉菜单",span:3,fields:[{sub_title:"常用设置",sub_fields:{sub_nav_color:{label:"[默认]文字颜色",type:"color",data:{name:".popup-content .cats-tree .fst-cat-name, .menu-popup-cats .sub-cat a",ele:"color"}},sub_nav_color_hover:{label:"[经过]文字颜色",type:"color",data:{name:".popup-content .cats-tree .cat-hd-hover .fst-cat-name,.menu-popup-cats .sub-cat-hover a",ele:"color"}},sub_nav_bg_color:{label:"[默认]背景颜色",type:"color",data:{name:".popup-content .cats-tree .fst-cat,.menu-popup-cats .sub-cat",ele:"background-color"}},sub_nav_bg_color_hover:{label:"[经过]背景颜色",type:"color",data:{name:".popup-content .cats-tree .cat-hd-hover, .menu-popup-cats .sub-cat-hover",ele:"background-color",ele_extra:"background:none;",extra:[{name:".popup-content .cats-tree .fst-cat-hd:hover,.popup-content .cats-tree .cat-hd-hover .fst-cat-name,.popup-content .cats-tree .cat-hd-hover .fst-cat-hd",val:"background:none;"}]}},sub_nav_all_bg_color:{label:"[整体]背景颜色",type:"color",data:{name:".popup-content",ele:"background-color",extra:[{name:".popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",val:"background:none;"}]}}}},{sub_title:"字体设置",sub_fields:{sub_nav_line_height:{label:"高度/行高",type:"number",cls:"input-mini",id:"sub-nav-line-height",data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat, .skin-box-bd .popup-content .cats-tree .fst-cat, .popup-content .cats-tree .fst-cat-hd, .popup-content .cats-tree .fst-cat-hd, .popup-content .cats-tree .fst-cat-name, .popup-content .cats-tree .fst-cat-name, .menu-popup-cats .sub-cat, .menu-popup-cats .sub-cat, .menu-popup-cats .sub-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",ele:"height,height,height,height,height",extra:[{name:".cats-tree .fst-cat-hd .fst-cat-icon",val:'margin-top:@(this.val-$(".cats-tree .fst-cat-hd .fst-cat-icon").height())/2@'}],ele_extra_property:{height:{type:"number",ele:"line-height",cls:"span1"}}},tips:"请输入20~50间的数字"},sub_nav_font_size:{label:"字体大小",type:"select",options:g(),val:"",unit:"px",data:{name:".cats-tree .fst-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",ele:"font-size"}},sub_nav_font_family:{label:"字体名称",type:"select",options:h(),val:"",data:{name:".cats-tree .fst-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",ele:"font-family"}},sub_nav_font_style:{label:"字体样式",type:"select",val:"",options:{"":"默认",normal:"正常",italic:"斜体",bold:"粗体",bold_italic:"粗体+斜体"},data:{name:".cats-tree .fst-cat .cat-name, .menu-popup-cats .sub-cat .cat-name",ele:"font-style"}}}},{sub_title:"边框/分隔线",sub_fields:{sub_nav_border_color:{label:"边框颜色",type:"color",data:{name:".popup-content",ele:"border-color",extra:[{name:".popup-content",val:"border-width:1;border-style:solid;border-top:none;"}]}},sub_nav_line_width:{label:"分隔线大小",type:"number",cls:"input-mini",data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",ele:"border-bottom-width"},tips:"请输入0~5的数字; 需设置分隔线样式才生效"},sub_nav_line_style:{label:"分隔线样式",type:"select",options:{"":"默认",solid:"实线",dotted:"虚线"},data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",ele:"border-bottom-style"},tips:"请输入0~5的数字; 需设置分隔线大小才生效"},sub_nav_line_color:{label:"分隔线颜色",type:"color",data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat, .menu-popup-cats .sub-cat",ele:"border-bottom-color"},tips:"需设置分隔线大小、样式才生效"}}},{sub_title:"背景图设置",sub_fields:{sub_nav_bg_img:{label:"[默认]背景图片",type:"url",cls:"bs-input input-small field-val",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none",data:{name:".popup-content .cats-tree .fst-cat,.menu-popup-cats .sub-cat",ele:"background-image",extra:[{name:".popup-content .cats-tree .fst-cat-icon",val:"background:none;"}],ele_extra_property:k()},placeholder:"http://"},sub_nav_bg_img_hover:{label:"[经过]背景图片",type:"url",cls:"bs-input input-small field-val",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none",data:{name:".popup-content .cats-tree .cat-hd-hover, .menu-popup-cats .sub-cat-hover",ele:"background-image",ele_extra:"",extra:[{name:".popup-content .cats-tree .has-children, .popup-content .cats-tree .fst-cat-hd:hover, .popup-content .cats-tree .fst-cat-hd:hover",val:"background:none;"}],ele_extra_property:k()},placeholder:"http://"},sub_nav_all_bg_img:{label:"[整体]背景图片",type:"url",cls:"bs-input field-val input-small",data:{name:".popup-content",ele:"background-image",extra:[{name:".popup-content",val:"background-position:0px 0px"},{name:".popup-content .cats-tree .fst-cat",val:"background:none;"}],ele_extra_property:k()},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"}}}]},zx_sec_nav:{title:"二级下拉菜单",span:3,fields:[{sub_title:"常用设置",sub_fields:{sec_nav_color:{label:"[默认]文字颜色",type:"color",data:{name:".popup-content .cats-tree .snd-cat-name",ele:"color"}},sec_nav_color_hover:{label:"[经过]文字颜色",type:"color",data:{name:".popup-content .cats-tree a.snd-cat-name:hover,.popup-content .cats-tree .snd-pop-inner .snd-cat-hd-hover a",ele:"color"}},sec_nav_bg_color:{label:"[默认]背景颜色",type:"color",data:{name:".popup-content .cats-tree .snd-pop-inner .snd-cat",ele:"background-color"}},sec_nav_bg_color_hover:{label:"[经过]背景颜色",type:"color",data:{name:".popup-content .cats-tree .snd-pop-inner .snd-cat-hd-hover",ele:"background-color"}},sec_nav_all_bg_color:{label:"[整体]背景颜色",type:"color",data:{name:".popup-content .cats-tree .snd-pop-inner",ele:"background-color",extra:[{name:".popup-content .cats-tree .snd-pop-inner",val:"background:none;"}]}},sec_nav_line_height:{label:"每行高度",type:"number",cls:"input-mini",data:{name:".snd-pop-inner .fst-cat-bd .snd-cat, .snd-pop-inner .fst-cat-bd .snd-cat, .snd-pop-inner .fst-cat-bd .snd-cat-hd, .snd-pop-inner .fst-cat-bd .snd-cat-hd, .snd-pop-inner .fst-cat-bd .snd-cat-name, .snd-pop-inner .fst-cat-bd .snd-cat-name",ele:"height,line-height,height,line-height,height,line-height",extra:[{name:".cats-tree .snd-cat-hd .snd-cat-icon",val:'margin-top:@(this.val-$(".cats-tree .snd-cat-hd .snd-cat-icon").height())/2@'}]},tips:"请输入20~50间的数字"},sec_nav_all_height:{label:"整体高度",type:"select",data:{name:".popup-content .cats-tree .snd-pop-inner",ele:"height"},tips:"选择二级类目整体高度",options:{260:"固定高度",auto:"自适应"}}}},{sub_title:"字体设置",sub_fields:{sec_nav_font_size:{label:"字体大小",type:"select",options:g(),val:"",unit:"px",data:{name:".cats-tree .snd-cat .snd-cat-name",ele:"font-size"}},sec_nav_font_family:{label:"字体名称",type:"select",options:h(),val:"",data:{name:".cats-tree .snd-cat .snd-cat-name",ele:"font-family"}},sec_nav_font_style:{label:"字体样式",type:"select",val:"",options:{"":"默认",normal:"正常",italic:"斜体",bold:"粗体",bold_italic:"粗体+斜体"},data:{name:".cats-tree .snd-cat .snd-cat-name",ele:"font-style"}}}},{sub_title:"背景图设置",sub_fields:{sec_nav_bg_img:{label:"[默认]背景图片",type:"url",cls:"bs-input field-val input-small",data:{name:".popup-content .cats-tree .snd-pop-inner .snd-cat",ele:"background-image",extra:[{name:".popup-content .cats-tree .snd-pop-inner .snd-cat .snd-cat-icon",val:"background:none"}],ele_extra_property:k()},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"},sec_nav_bg_img_hover:{label:"[经过]背景图片",type:"url",cls:"bs-input field-val input-small",data:{name:".popup-content .cats-tree .snd-pop-inner .snd-cat-hd-hover",ele:"background-image",extra:[{name:".popup-content .cats-tree .snd-cat-icon",val:"background:none"}],ele_extra_property:k()},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"},sec_nav_all_bg_img:{label:"[整体]背景图片",type:"url",cls:"bs-input field-val input-small",data:{name:".popup-content .cats-tree .snd-pop-inner",ele:"background-image",extra:[{name:".popup-content .cats-tree .snd-pop-inner",val:"background-position:0px 0px"}],ele_extra_property:k()},placeholder:"http://",tips:"粘贴淘宝图片空间的图片链接地址，不要背景图请输入 none"}}},{sub_title:"边框/分隔线",sub_fields:{sec_nav_border_color:{label:"边框颜色",type:"color",data:{name:" .popup-content .snd-pop",ele:"border-color",extra:[{name:".popup-content .snd-pop",val:"border-width:1;border-style:solid;"}]}},sec_nav_line_width:{label:"分隔线大小",type:"number",cls:"input-mini",data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat .snd-cat",ele:"border-bottom-width"},tips:"请输入0~5的数字; 需设置分隔线样式才生效"},sec_nav_line_style:{label:"分隔线样式",type:"select",options:{"":"默认",solid:"实线",dotted:"虚线"},data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat .snd-cat",ele:"border-bottom-style"},tips:"请输入0~5的数字; 需设置分隔线大小才生效"},sec_nav_line_color:{label:"分隔线颜色",type:"color",data:{name:".skin-box-bd .popup-content .cats-tree .fst-cat .snd-cat",ele:"border-bottom-color"},tips:"需设置分隔线大小、样式才生效"}}}]},zx_other:{title:"其它",span:12,fields:[{sub_title:"其他设置",tips:"高级用户使用",sub_fields:{_extend_code:{label:"兼容代码",type:"textarea",cls:"input-xxlarge",style:"height:60px",data:{special:2,name:"_",ele:""},placeholder:".skin-box .skin-box-bd{ }",tips:"兼容CSS，优先级最高，会覆盖其它设置"},_fixed_bg:{label:"固定背景",type:"url",bodybody:"1",placeholder:"http://",tips:"店铺固定背景图（图片尺寸最好达到1920×1200）",cls:"bs-input field-val input-xlarge",data:{special:4,name:"_",ele:""}},_fixed_background_repeat:{label:"背景重复",type:"select",options:{"no-repeat":"不重复","repeat-x":"横向重复","repeat-y":"纵向重复",repeat:"双向重复"},data:{special:4,name:"_",ele:""}},_fixed_background_position:{label:"背景位置",type:"select",options:{"center top":"默认(顶部居中)","left top":"左上角对齐","center top":"顶部居中","right top":"右上角对齐","left center":"左对齐/垂直居中对齐","center center":"居中对齐","right center":"右对齐/垂直居中","left bottom":"左下角对齐","center bottom":"底部居中对齐","right bottom":"右下角对齐"},data:{special:4,name:"_",ele:""}},_fixed_background_attachment:{label:"是否固定",type:"select",bodybody:"2",options:{fixed:"固定",scroll:"滚动（不固定）"},data:{special:4,name:"_",ele:""}}}}]},zx_setting:{title:"模拟店招/页头/页面背景的环境设置【仅作参考】",tips:"模拟店招/页头/页面背景的环境设置【仅作参考】",span:6,fields:[{sub_title:"店招设置",sub_fields:{_dz_height:{id:"dz_height",label:"店招高度",type:"number",val:"120",unit:"px",cls:"input-mini",data:{special:3,name:"_",ele:""},tips:"模拟店招高度，请输入1~130间的整数"},_show_dz_mock:{label:"店招文字提示",type:"select",val:"1",options:{y:"显示",n:"隐藏"},tips:"是否显示“我是店招”字样",data:{special:3,name:"_",ele:""}},_dz_xtool_url:{label:"配套店招地址",type:"url",cls:"bs-input field-val input-xlarge",role:"dev|adm",data:{special:3,name:"_",ele:""},tips:"与此导航配套的店招地址",placeholder:"http://zx.07.la/user_help_tool/..."}}},{sub_title:"页头设置",sub_fields:{_hd_bg_color:{label:"页头背景色",type:"color",data:{special:3,name:"_",ele:""}},_hd_bg:{label:"页头背景图",type:"url",placeholder:"http://",tips:"模拟页头背景色",cls:"bs-input span2 field-val input-xlarge",data:{special:3,name:"_",ele:""}},hd_background_repeat:{label:"背景图片重复",type:"select",options:j(),data:{special:3,name:"_",ele:""}},hd_background_position:{label:"背景图片位置",type:"select",options:i(),data:{special:3,name:"_",ele:""}},hd_margin_bottom:{label:"页头下边距10像素",type:"select",options:{"10px":"开启",0:"关闭"},data:{special:3,name:"_",ele:""}}}},{sub_title:"页面设置",sub_fields:{_content_bg_color:{label:"页面背景色",type:"color",data:{special:3,name:"_",ele:""}},_content_bg:{label:"页面背景图",type:"url",placeholder:"http://",tips:"模拟页面背景图",cls:"bs-input span2 field-val input-xlarge",data:{special:3,name:"_",ele:""}},bd_background_repeat:{label:"背景图片重复",type:"select",options:j(),data:{special:3,name:"_",ele:""}},bd_background_position:{label:"背景图片位置",type:"select",options:i(),data:{special:3,name:"_",ele:""}}}}]}}
},e=[{name:".skin-box-bd, .menu-list .link, .all-cats .link, .popup-content",val:"border:none"}],f=function(a,b){var c="";return(a>0||""!=b)&&(c=" .all-cats, .all-cats-hover, .all-cats .link .popup-icon, .all-cats-hover .link .popup-icon, .menu-list, .menu-list .link, .menu-list .link .popup-icon, .menu-list .menu, .menu-list .menu .link, .menu-list .menu-selected, .menu-list .menu-hover, .menu-list .menu-selected .link, .menu-list .menu-hover .link, .menu-list .menu-selected .link .popup-icon, .menu-list .menu-hover .link .popup-icon{background:none;}"),c+=".skin-box-bd{background-repeat:repeat;}.all-cats{max-width:190px;}.menu-list{width:760px;}.skin-box-bd .all-cats-popup{width:188px;}.skin-box-bd .popup-content .cats-tree .fst-cat {list-style:none;float:left;width:188px;}.popup-content .cats-tree .snd-pop-inner{width:190px;}.popup-content .cats-tree .snd-pop-inner, .ks-contentbox,.popup-content,.popup-content .cats-tree, .menu-popup-cats{padding:0px;}.popup-content .cats-tree,.menu-popup-cats, .ks-contentbox,.all-cats .link{background:none;} .ks-contentbox{padding-top:0;} .all-cats .link .popup-icon, .all-cats-hover .link .popup-icon{top:3px;} .menu-list .link .title,  .menu-list .menu-selected .link .title,.menu-list .menu{width:auto;}  .all-cats-hover .link .popup-icon{transform: rotate(0deg);} .popup-content .cats-tree{margin:0px;}"},g=function(){return{"":"默认",11:11,12:12,13:13,14:14,16:16,18:18,20:20,24:24,26:26,28:28}},h=function(){return{"":"默认",ms_yahei_simhei:"微软雅黑,黑体",ms_yahei:"微软雅黑",simhei:"黑体",simsun:"宋体",lisu:"隶书",kaiti_gb2312:"楷体",Georgia:"Georgia","Times New Roman":"Times New Roman",Impact:"Impact","Courier New":"Courier New",Arial:"Arial",Verdana:"Verdana",Tahoma:"Tahoma","Microsoft Sans Serif":"Microsoft Sans Serif"}},i=function(){return{"":"默认","left top":"左上角对齐","center top":"顶部居中","right top":"右上角对齐","left center":"左对齐/垂直居中对齐","center center":"居中对齐","right center":"右对齐/垂直居中","left bottom":"左下角对齐","center bottom":"底部居中对齐","right bottom":"右下角对齐"}},j=function(){return{"":"平铺[默认]","no-repeat":"不平铺","repeat-x":"横向平铺","repeat-y":"纵向平铺",repeat:"平铺"}},k=function(){return{repeat:{type:"select",ele:"background-repeat",options:j()},position:{type:"select",ele:"background-position",options:i()}}},l=function(){return{display:{type:"select",ele:"display",options:{block:"显示",none:"关闭"}}}},m=function(){var a=localStorage.getItem("lastData@"+module);if(a||(a=$.trim($("#log_data").val())),""!=a)try{a=a.replace(/\n/g,""),b=$.parseJSON(a)}catch(c){console.log(c)}},n=function(e){var f,g,h,i,j,k,l;a=$("#toolbar"),f=d(),m(),g='<div class="nav-tooltip"></div>',i=$("#ipt_auth").val(),j=$("#designer_theme_color").val(),j&&(k=JSON.parse(j),$.each(k,function(a,b){c[a]=b})),l=$("#history_theme_color").val(),l&&(l=l.replace(/\n/g,""),b=$.parseJSON(l)),void 0!=b.__dz_bg&&(b._hd_bg=b.__dz_bg),b.hd_background_image&&""!=b.hd_background_image&&(b._hd_bg=b.hd_background_image),b.hd_background_color&&""!=b.hd_background_color&&(b._hd_bg_color=b.hd_background_color),b.bd_background_color&&""!=b.bd_background_color&&(b._content_bg_color=b.bd_background_color),b.bd_background_image&&""!=b.bd_background_image&&(b._content_bg=b.bd_background_image),""==b.hd_background_repeat&&(b.hd_background_repeat="repeat"),""==b.hd_background_position&&(b.hd_background_position="center top"),""==b.bd_background_repeat&&(b.bd_background_repeat="no-repeat"),""==b.bd_background_position&&(b.bd_background_position="center top"),""==b.nav_height&&(b.nav_height=30),""==b._dz_height&&(b._dz_height=120),$.each(f,function(a,c){var d="",f="",j="";$.each(c.fields,function(c,g){var j="REE-zx-nav-tab-"+a+c,k="";$.each(g.sub_fields,function(a,d){if(h=!1,void 0!=d.show_at&&1==d.show_at&&1>e&&(h=!0),"_dz_xtool_url"==c&&"adm"==i&&(h=!1),void 0!=d.td||void 0!=d.data&&""!=$.trim(d.data.name)||(h=!0),void 0!=d.role&&-1==$.inArray(i,d.role.split("|"))&&(d.type="hidden"),!h){d.cls=void 0==d.cls?"_ipt":d.cls+=" _ipt",void 0==d.data&&(d.data={}),d.data._id=a,e>0&&(d.val=""),void 0!=b[a]&&(d.val=b[a]),d.bodybody&&"1"==d.bodybody&&(k+='<div class="fixedbodybg">'),k+="<li","hidden"==d.type&&(k+=' style="display:none"'),k+="><label>"+d.label+"</label>"+o(d),d.unit&&(k+='<span class="unit">'+d.unit+"</span>"),d.help&&(d.help=d.help.replace(/@sdk_id@/g,e),k+='<span class="help">'+d.help+"</span>");var f=d.data;f.ele_extra_property&&$.each(d.data.ele_extra_property,function(c,d){var g=a+"_"+c;e>0&&(d.val=""),void 0!=b[g]&&(d.val=b[g]),d.label&&(k+="<span>"+d.label+"</span>"),f.ele_extra_property[c]["_id"]=g,d.cls=void 0==d.cls?"_ipt":d.cls+=" _ipt",k+=o(d)}),k+="</li>",d.bodybody&&"2"==d.bodybody&&(k+='<div class="btn btn-danger copy-body-code-btn" data-original-title="导出店铺固定背景代码" data-toggle="tooltip"><i class="icon-question-sign icon-white"></i>导出背景代码 </div></div>')}}),f+="<li"+(0==c?' class="active"':"")+'><a href="#'+j+'" data-toggle="tab" id="a-'+j+'"',g.tips&&(f+=' title="'+g.tips+'"'),f+=">"+g.sub_title+"</a></li>",d+='<div class="tab-pane'+(0==c?" active":"")+'" id="'+j+'">'+k+"</div>"}),"zx_other"==a?(g+='<ul class="nav nav-tabs" style="display:none;"></ul>',g+='<div class="tab-content info height" style="display:none;"></div>'):(j+='<div class="tab">',j+='<ul class="nav nav-tabs">'+f+"</ul>",j+='<div class="tab-content info">'+d+"</div>",j+="</div>",g+=REE.Com.biuldModal(a,j,c.title,"HIDE"))}),$(".content",a).html(g)},o=function(a){var b="";switch(a.type){case"color":a.cls=void 0==a.cls?"ptdata_color":a.cls+=" ptdata_color",b=p(a);break;case"text":a.cls=void 0==a.cls?"bs-input":a.cls+=" bs-input",b=p(a);break;case"number":case"emall":case"url":case"password":case"hidden":b=p(a);break;case"select":b=r(a);break;case"textarea":b=q(a);break;default:b="unknown form type "+a.type}return b},p=function(a){var b='<input type="'+("color"!=a.type?a.type:"")+'"';return b+=s(a),void 0!=a.val&&"__nil__"!=a.val&&(b+=' value="'+a.val+'"'),b+="> "},q=function(a){var b="<textarea"+s(a)+">";return void 0!=a.val&&"__nil__"!=a.val&&(b+=a.val),b+="</textarea>"},r=function(a){var c,b="";b+='<select name="'+a.name+'"',b+=s(a),b+=">";for(c in a.options)b+='<option value="'+c+'"',c==a.val&&(b+=' selected="selected"'),b+=">"+a.options[c]+"</option>";return b+="</select>"},s=function(a){var b="",c=a.data?a.data._id:a._id;return void 0!=a.name&&(b+=' name="'+a.name+'"'),void 0!=a.id&&(b+=' id="'+a.id+'"'),void 0!=a.cls&&(b+=' class="'+a.cls+'"'),void 0!=a.style&&(b+=' style="'+a.style+'"'),void 0!=a.placeholder&&(b+=' placeholder="'+a.placeholder+'"'),void 0!=a.tips&&(b+=' data-toggle="tooltip" data-placement="top" title data-original-title="'+a.tips+'"'),b+=' data-id="'+c+'"'};return{init:n,get_config:d,none_sdk_id_css:e,extend_code:f,g:c}}(),REE.NavCss.Main=new menu(REE.NavCss.Toolbar.g),$(document).ready(function(){REE.Com.backwardIE(),REE.NavCss.Main.init(),pluginsModule.run()}),isLoadHistory=!1,pluginsModule={historyUi:null,historyList:function(){var a=this,b=$("#dialog-history").dialog({dialogClass:"codeArea",autoOpen:!1,resizable:!1,modal:!0,closeText:" ",width:"62.5%",height:"485",open:function(){$(".ui-widget-overlay").bind("click",function(){a.historyUi.dialog("close")})}});this.historyUi=b,$(".user_history").off().click(function(){a.historyUi.dialog("open");var c=$("#dialog-history");0===c.children("#historyTable").length&&(c.html('<div style="display:back;margin:100px auto;text-align:center;font-size:16px;">加载中......</div>'),$.get(app+"index.php?m=tool&c=member&a=getHistory&module="+module,function(b){var e,d="";1==b.status?(e=mgTpl.historys({data:b.data}),d='<table id="historyTable" width="100%" height="auto"><thead><tr><th width="50%">记录名称</th><th>最后修改时间</th><th>操作</th></tr></thead><tbody style="text-align:center;">'+e+"</tbody></table>",c.html(d),a.historyLoad()):(d='<div style="display:block;margin:100px auto;text-align:center;font-size:16px;"><a href="javascript:void(0);" class="goLogin">'+b.msg+"</a></div>",c.html(d))},"json"))})},historyLoad:function(){var a=this;$(".history").off("click").on("click",function(){var b,c;$(this).parent().parent().addClass("active").siblings(".active").removeClass("active"),b=$(this).attr("data-id"),c=layer.open({type:3}),a.historyUi.dialog("close"),$.get(app+"index.php?m=tool&c=member&a=getHistory&module="+module+"&id="+b,function(a){if(1==a.status){var b=a.data;isLoadHistory=!0,$("#history_theme_color").val(JSON.stringify(b)),$("#naveditor").off(),$(".nav-edit").off(),$(".colorpicker").remove(),delete REE.NavCss.Main,REE.NavCss.Main=new menu(b),REE.Com.backwardIE(),REE.NavCss.Main.init()}else alert(a.msg);layer.close(c)},"json")}),$(".delHistory").off("click").on("click",function(){var a=$(this).attr("data-id"),b=this;return confirm("是否真的要删除？")?($(this).addClass("red").text("删除中"),$.get(app+"index.php?m=tool&c=member&a=delHistory&id="+a,function(a){1==a.status?$(b).parents("tr").remove():(alert(a.msg),$(this).removeClass("red").text("删除"))},"json"),void 0):!1}),$(".editHistory").on("click",function(){var a=$(this).attr("data-id"),b=$(this).data("title"),c=this,d=$('<input class="title_input" type="text" value="'+b+'">');$(this).after(d),$(d).focus().siblings().hide(),$(d).blur(function(){$(this).siblings().removeAttr("style"),$(this).remove()}),$(d).change(function(){var b=$(this).val();return""==b?(layer.alert("名称不能为空，请重新填..."),!1):($.get(app+"index.php?m=tool&c=member&a=reNameHistory&id="+a+"&newName="+b,function(a){1==a.status?$(c).data("title",b).siblings(".history").text(b):alert(a.msg)},"json"),void 0)})})},help:function(){var a=$("#helpUi").dialog({dialogClass:"helpUi",autoOpen:!1,resizable:!1,modal:!0,closeText:" ",height:"676",width:"1200",modal:!0,open:function(){$(".ui-widget-overlay").off().on("click",function(){a.dialog("close")}),0==$("#helpUi").html().length&&$.get(app+"index.php?m=tool&c=index&a=getHelp&id="+moduleId,function(a,b){"success"==b?(console.log($("#helpUi")),$("#helpUi").html(a)):alert("数据请求失败！")})}});$(".help").click(function(){a.dialog("open")})},run:function(){this.historyList(),this.help()}},$(".user_clear").click(function(){localStorage.removeItem("lastData@"+module),location.reload()});